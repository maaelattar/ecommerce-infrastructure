"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EnvironmentProviderFactory = exports.EnvironmentProvider = void 0;
/**
 * Abstract base class for environment-specific resource configuration
 * Implements Strategy pattern to handle LocalStack vs AWS differences
 */
class EnvironmentProvider {
    constructor(config) {
        this.config = config;
    }
    // Common getters
    get environment() {
        return this.config.environment;
    }
    get isLocalStack() {
        return this.config.isLocalStack;
    }
}
exports.EnvironmentProvider = EnvironmentProvider;
/**
 * Factory for creating environment providers
 */
class EnvironmentProviderFactory {
    static create(config) {
        if (config.isLocalStack) {
            return new localstack_provider_1.LocalStackProvider(config);
        }
        return new aws_provider_1.AwsProvider(config);
    }
}
exports.EnvironmentProviderFactory = EnvironmentProviderFactory;
// Import the concrete implementations
const localstack_provider_1 = require("./localstack-provider");
const aws_provider_1 = require("./aws-provider");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW52aXJvbm1lbnQtcHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJlbnZpcm9ubWVudC1wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQTs7O0dBR0c7QUFDSCxNQUFzQixtQkFBbUI7SUFHdkMsWUFBWSxNQUF5QjtRQUNuQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBd0JELGlCQUFpQjtJQUNqQixJQUFJLFdBQVc7UUFDYixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDZCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQ2xDLENBQUM7Q0FDRjtBQXJDRCxrREFxQ0M7QUE4Q0Q7O0dBRUc7QUFDSCxNQUFhLDBCQUEwQjtJQUNyQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQXlCO1FBQ3JDLElBQUksTUFBTSxDQUFDLFlBQVksRUFBRTtZQUN2QixPQUFPLElBQUksd0NBQWtCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdkM7UUFDRCxPQUFPLElBQUksMEJBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqQyxDQUFDO0NBQ0Y7QUFQRCxnRUFPQztBQUVELHNDQUFzQztBQUN0QywrREFBMkQ7QUFDM0QsaURBQTZDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW52aXJvbm1lbnRDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcvZW52aXJvbm1lbnRzJztcblxuLyoqXG4gKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciBlbnZpcm9ubWVudC1zcGVjaWZpYyByZXNvdXJjZSBjb25maWd1cmF0aW9uXG4gKiBJbXBsZW1lbnRzIFN0cmF0ZWd5IHBhdHRlcm4gdG8gaGFuZGxlIExvY2FsU3RhY2sgdnMgQVdTIGRpZmZlcmVuY2VzXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFbnZpcm9ubWVudFByb3ZpZGVyIHtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IGNvbmZpZzogRW52aXJvbm1lbnRDb25maWc7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBFbnZpcm9ubWVudENvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgLy8gTmV0d29yayBjb25maWd1cmF0aW9uIG1ldGhvZHNcbiAgYWJzdHJhY3QgZ2V0VnBjQ29uZmlnKCk6IFZwY0NvbmZpZ3VyYXRpb247XG4gIGFic3RyYWN0IGdldE1heEF6cygpOiBudW1iZXI7XG4gIGFic3RyYWN0IHNob3VsZFVzZUlzb2xhdGVkU3VibmV0cygpOiBib29sZWFuO1xuXG4gIC8vIERhdGFiYXNlIGNvbmZpZ3VyYXRpb24gbWV0aG9kc1xuICBhYnN0cmFjdCBnZXREYXRhYmFzZUNvbmZpZyhzZXJ2aWNlTmFtZTogc3RyaW5nKTogRGF0YWJhc2VDb25maWd1cmF0aW9uO1xuICBhYnN0cmFjdCBzaG91bGRVc2VEZWxldGlvblByb3RlY3Rpb24oKTogYm9vbGVhbjtcbiAgYWJzdHJhY3QgZ2V0UmVtb3ZhbFBvbGljeSgpOiBhbnk7IC8vIFJlbW92YWxQb2xpY3kgZnJvbSBDREtcblxuICAvLyBDYWNoZSBjb25maWd1cmF0aW9uIG1ldGhvZHNcbiAgYWJzdHJhY3QgZ2V0Q2FjaGVDb25maWcoKTogQ2FjaGVDb25maWd1cmF0aW9uO1xuXG4gIC8vIE1lc3NhZ2luZyBjb25maWd1cmF0aW9uIG1ldGhvZHNcbiAgYWJzdHJhY3QgZ2V0TWVzc2FnaW5nQ29uZmlnKCk6IE1lc3NhZ2luZ0NvbmZpZ3VyYXRpb247XG5cbiAgLy8gU2VhcmNoIGNvbmZpZ3VyYXRpb24gbWV0aG9kc1xuICBhYnN0cmFjdCBnZXRTZWFyY2hDb25maWcoKTogU2VhcmNoQ29uZmlndXJhdGlvbjtcblxuICAvLyBTdG9yYWdlIGNvbmZpZ3VyYXRpb24gbWV0aG9kc1xuICBhYnN0cmFjdCBnZXRTdG9yYWdlQ29uZmlnKCk6IFN0b3JhZ2VDb25maWd1cmF0aW9uO1xuXG4gIC8vIENvbW1vbiBnZXR0ZXJzXG4gIGdldCBlbnZpcm9ubWVudCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5lbnZpcm9ubWVudDtcbiAgfVxuXG4gIGdldCBpc0xvY2FsU3RhY2soKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmlzTG9jYWxTdGFjaztcbiAgfVxufVxuXG4vLyBDb25maWd1cmF0aW9uIGludGVyZmFjZXNcbmV4cG9ydCBpbnRlcmZhY2UgVnBjQ29uZmlndXJhdGlvbiB7XG4gIGNpZHI6IHN0cmluZztcbiAgZW5hYmxlRG5zSG9zdG5hbWVzOiBib29sZWFuO1xuICBlbmFibGVEbnNTdXBwb3J0OiBib29sZWFuO1xuICBuYXRHYXRld2F5cz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhYmFzZUNvbmZpZ3VyYXRpb24ge1xuICBpbnN0YW5jZVR5cGU6IHN0cmluZztcbiAgYWxsb2NhdGVkU3RvcmFnZTogbnVtYmVyO1xuICBtdWx0aUFaOiBib29sZWFuO1xuICBiYWNrdXBSZXRlbnRpb246IG51bWJlcjtcbiAgZW5jcnlwdGlvbkF0UmVzdDogYm9vbGVhbjtcbiAgZGVsZXRpb25Qcm90ZWN0aW9uOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhY2hlQ29uZmlndXJhdGlvbiB7XG4gIG5vZGVUeXBlOiBzdHJpbmc7XG4gIGVuZ2luZTogc3RyaW5nO1xuICBlbmdpbmVWZXJzaW9uOiBzdHJpbmc7XG4gIG51bUNhY2hlTm9kZXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdpbmdDb25maWd1cmF0aW9uIHtcbiAgZGVwbG95bWVudE1vZGU6IHN0cmluZztcbiAgaG9zdEluc3RhbmNlVHlwZTogc3RyaW5nO1xuICBlbmdpbmVWZXJzaW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoQ29uZmlndXJhdGlvbiB7XG4gIGluc3RhbmNlVHlwZTogc3RyaW5nO1xuICBpbnN0YW5jZUNvdW50OiBudW1iZXI7XG4gIG1hc3Rlck5vZGVzOiBudW1iZXI7XG4gIGVuY3J5cHRpb25BdFJlc3Q6IGJvb2xlYW47XG4gIG5vZGVUb05vZGVFbmNyeXB0aW9uOiBib29sZWFuO1xuICBlbmZvcmNlSFRUUFM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmFnZUNvbmZpZ3VyYXRpb24ge1xuICB2ZXJzaW9uaW5nRW5hYmxlZDogYm9vbGVhbjtcbiAgZW5jcnlwdGlvbkF0UmVzdDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBGYWN0b3J5IGZvciBjcmVhdGluZyBlbnZpcm9ubWVudCBwcm92aWRlcnNcbiAqL1xuZXhwb3J0IGNsYXNzIEVudmlyb25tZW50UHJvdmlkZXJGYWN0b3J5IHtcbiAgc3RhdGljIGNyZWF0ZShjb25maWc6IEVudmlyb25tZW50Q29uZmlnKTogRW52aXJvbm1lbnRQcm92aWRlciB7XG4gICAgaWYgKGNvbmZpZy5pc0xvY2FsU3RhY2spIHtcbiAgICAgIHJldHVybiBuZXcgTG9jYWxTdGFja1Byb3ZpZGVyKGNvbmZpZyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQXdzUHJvdmlkZXIoY29uZmlnKTtcbiAgfVxufVxuXG4vLyBJbXBvcnQgdGhlIGNvbmNyZXRlIGltcGxlbWVudGF0aW9uc1xuaW1wb3J0IHsgTG9jYWxTdGFja1Byb3ZpZGVyIH0gZnJvbSAnLi9sb2NhbHN0YWNrLXByb3ZpZGVyJztcbmltcG9ydCB7IEF3c1Byb3ZpZGVyIH0gZnJvbSAnLi9hd3MtcHJvdmlkZXInOyJdfQ==