"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EnvironmentProviderFactory = exports.EnvironmentProvider = void 0;
/**
 * Abstract base class for environment-specific resource configuration
 * Implements Strategy pattern to handle LocalStack vs AWS differences
 */
class EnvironmentProvider {
    constructor(config) {
        this.config = config;
    }
    // Common getters
    get environment() {
        return this.config.environment;
    }
    get isLocalStack() {
        return this.config.isLocalStack;
    }
    get region() {
        return this.config.region;
    }
    isProduction() {
        return this.config.environment === 'prod';
    }
}
exports.EnvironmentProvider = EnvironmentProvider;
/**
 * Factory for creating environment providers
 */
class EnvironmentProviderFactory {
    static create(config) {
        if (config.isLocalStack) {
            return new localstack_provider_1.LocalStackProvider(config);
        }
        return new aws_provider_1.AwsProvider(config);
    }
}
exports.EnvironmentProviderFactory = EnvironmentProviderFactory;
// Import the concrete implementations
const localstack_provider_1 = require("./localstack-provider");
const aws_provider_1 = require("./aws-provider");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW52aXJvbm1lbnQtcHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJlbnZpcm9ubWVudC1wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQTs7O0dBR0c7QUFDSCxNQUFzQixtQkFBbUI7SUFHdkMsWUFBWSxNQUF5QjtRQUNuQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBMEJELGlCQUFpQjtJQUNqQixJQUFJLFdBQVc7UUFDYixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDZCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQzVCLENBQUM7SUFFRCxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsS0FBSyxNQUFNLENBQUM7SUFDNUMsQ0FBQztDQUNGO0FBL0NELGtEQStDQztBQThDRDs7R0FFRztBQUNILE1BQWEsMEJBQTBCO0lBQ3JDLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBeUI7UUFDckMsSUFBSSxNQUFNLENBQUMsWUFBWSxFQUFFO1lBQ3ZCLE9BQU8sSUFBSSx3Q0FBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN2QztRQUNELE9BQU8sSUFBSSwwQkFBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pDLENBQUM7Q0FDRjtBQVBELGdFQU9DO0FBRUQsc0NBQXNDO0FBQ3RDLCtEQUEyRDtBQUMzRCxpREFBNkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnZpcm9ubWVudENvbmZpZyB9IGZyb20gJy4uLy4uL2NvbmZpZy9lbnZpcm9ubWVudHMnO1xuXG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGVudmlyb25tZW50LXNwZWNpZmljIHJlc291cmNlIGNvbmZpZ3VyYXRpb25cbiAqIEltcGxlbWVudHMgU3RyYXRlZ3kgcGF0dGVybiB0byBoYW5kbGUgTG9jYWxTdGFjayB2cyBBV1MgZGlmZmVyZW5jZXNcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEVudmlyb25tZW50UHJvdmlkZXIge1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgY29uZmlnOiBFbnZpcm9ubWVudENvbmZpZztcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IEVudmlyb25tZW50Q29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gIH1cblxuICAvLyBOZXR3b3JrIGNvbmZpZ3VyYXRpb24gbWV0aG9kc1xuICBhYnN0cmFjdCBnZXRWcGNDb25maWcoKTogVnBjQ29uZmlndXJhdGlvbjtcbiAgYWJzdHJhY3QgZ2V0TWF4QXpzKCk6IG51bWJlcjtcbiAgYWJzdHJhY3Qgc2hvdWxkVXNlSXNvbGF0ZWRTdWJuZXRzKCk6IGJvb2xlYW47XG5cbiAgLy8gRGF0YWJhc2UgY29uZmlndXJhdGlvbiBtZXRob2RzXG4gIGFic3RyYWN0IGdldERhdGFiYXNlQ29uZmlnKHNlcnZpY2VOYW1lOiBzdHJpbmcpOiBEYXRhYmFzZUNvbmZpZ3VyYXRpb247XG4gIGFic3RyYWN0IHNob3VsZFVzZURlbGV0aW9uUHJvdGVjdGlvbigpOiBib29sZWFuO1xuICBhYnN0cmFjdCBnZXRSZW1vdmFsUG9saWN5KCk6IGFueTsgLy8gUmVtb3ZhbFBvbGljeSBmcm9tIENES1xuXG4gIC8vIENhY2hlIGNvbmZpZ3VyYXRpb24gbWV0aG9kc1xuICBhYnN0cmFjdCBnZXRDYWNoZUNvbmZpZygpOiBDYWNoZUNvbmZpZ3VyYXRpb247XG5cbiAgLy8gTWVzc2FnaW5nIGNvbmZpZ3VyYXRpb24gbWV0aG9kc1xuICBhYnN0cmFjdCBnZXRNZXNzYWdpbmdDb25maWcoKTogTWVzc2FnaW5nQ29uZmlndXJhdGlvbjtcbiAgYWJzdHJhY3QgZ2V0QW1hem9uTVFJbnN0YW5jZVR5cGUoKTogc3RyaW5nO1xuICBhYnN0cmFjdCBzaG91bGRFeHBvc2VQdWJsaWNseSgpOiBib29sZWFuO1xuXG4gIC8vIFNlYXJjaCBjb25maWd1cmF0aW9uIG1ldGhvZHNcbiAgYWJzdHJhY3QgZ2V0U2VhcmNoQ29uZmlnKCk6IFNlYXJjaENvbmZpZ3VyYXRpb247XG5cbiAgLy8gU3RvcmFnZSBjb25maWd1cmF0aW9uIG1ldGhvZHNcbiAgYWJzdHJhY3QgZ2V0U3RvcmFnZUNvbmZpZygpOiBTdG9yYWdlQ29uZmlndXJhdGlvbjtcblxuICAvLyBDb21tb24gZ2V0dGVyc1xuICBnZXQgZW52aXJvbm1lbnQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZW52aXJvbm1lbnQ7XG4gIH1cblxuICBnZXQgaXNMb2NhbFN0YWNrKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5pc0xvY2FsU3RhY2s7XG4gIH1cblxuICBnZXQgcmVnaW9uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnJlZ2lvbjtcbiAgfVxuXG4gIGlzUHJvZHVjdGlvbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZW52aXJvbm1lbnQgPT09ICdwcm9kJztcbiAgfVxufVxuXG4vLyBDb25maWd1cmF0aW9uIGludGVyZmFjZXNcbmV4cG9ydCBpbnRlcmZhY2UgVnBjQ29uZmlndXJhdGlvbiB7XG4gIGNpZHI6IHN0cmluZztcbiAgZW5hYmxlRG5zSG9zdG5hbWVzOiBib29sZWFuO1xuICBlbmFibGVEbnNTdXBwb3J0OiBib29sZWFuO1xuICBuYXRHYXRld2F5cz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhYmFzZUNvbmZpZ3VyYXRpb24ge1xuICBpbnN0YW5jZVR5cGU6IHN0cmluZztcbiAgYWxsb2NhdGVkU3RvcmFnZTogbnVtYmVyO1xuICBtdWx0aUFaOiBib29sZWFuO1xuICBiYWNrdXBSZXRlbnRpb246IG51bWJlcjtcbiAgZW5jcnlwdGlvbkF0UmVzdDogYm9vbGVhbjtcbiAgZGVsZXRpb25Qcm90ZWN0aW9uOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhY2hlQ29uZmlndXJhdGlvbiB7XG4gIG5vZGVUeXBlOiBzdHJpbmc7XG4gIGVuZ2luZTogc3RyaW5nO1xuICBlbmdpbmVWZXJzaW9uOiBzdHJpbmc7XG4gIG51bUNhY2hlTm9kZXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdpbmdDb25maWd1cmF0aW9uIHtcbiAgZGVwbG95bWVudE1vZGU6IHN0cmluZztcbiAgaG9zdEluc3RhbmNlVHlwZTogc3RyaW5nO1xuICBlbmdpbmVWZXJzaW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoQ29uZmlndXJhdGlvbiB7XG4gIGluc3RhbmNlVHlwZTogc3RyaW5nO1xuICBpbnN0YW5jZUNvdW50OiBudW1iZXI7XG4gIG1hc3Rlck5vZGVzOiBudW1iZXI7XG4gIGVuY3J5cHRpb25BdFJlc3Q6IGJvb2xlYW47XG4gIG5vZGVUb05vZGVFbmNyeXB0aW9uOiBib29sZWFuO1xuICBlbmZvcmNlSFRUUFM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmFnZUNvbmZpZ3VyYXRpb24ge1xuICB2ZXJzaW9uaW5nRW5hYmxlZDogYm9vbGVhbjtcbiAgZW5jcnlwdGlvbkF0UmVzdDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBGYWN0b3J5IGZvciBjcmVhdGluZyBlbnZpcm9ubWVudCBwcm92aWRlcnNcbiAqL1xuZXhwb3J0IGNsYXNzIEVudmlyb25tZW50UHJvdmlkZXJGYWN0b3J5IHtcbiAgc3RhdGljIGNyZWF0ZShjb25maWc6IEVudmlyb25tZW50Q29uZmlnKTogRW52aXJvbm1lbnRQcm92aWRlciB7XG4gICAgaWYgKGNvbmZpZy5pc0xvY2FsU3RhY2spIHtcbiAgICAgIHJldHVybiBuZXcgTG9jYWxTdGFja1Byb3ZpZGVyKGNvbmZpZyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQXdzUHJvdmlkZXIoY29uZmlnKTtcbiAgfVxufVxuXG4vLyBJbXBvcnQgdGhlIGNvbmNyZXRlIGltcGxlbWVudGF0aW9uc1xuaW1wb3J0IHsgTG9jYWxTdGFja1Byb3ZpZGVyIH0gZnJvbSAnLi9sb2NhbHN0YWNrLXByb3ZpZGVyJztcbmltcG9ydCB7IEF3c1Byb3ZpZGVyIH0gZnJvbSAnLi9hd3MtcHJvdmlkZXInOyJdfQ==